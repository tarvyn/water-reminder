(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,r){e.exports=r("UXeq")},UXeq:function(e,t,r){"use strict";r.r(t);var n,a=r("pWtc"),o=r("2r+5"),i=r("Fpi0"),c=r("GrmC"),s=r("OqRz"),u=r("sj3V"),l=r("v2iy"),p=r("9S1i");!function(e){e.Login="[Auth] Login",e.LoginSuccess="[Auth] Login success",e.LoginError="[Auth] Login error",e.Logout="[Auth] Logout",e.LogoutSuccess="[Auth] Logout success",e.LogoutError="[Auth] Logout error",e.SignUp="[Auth] Sign up",e.SignUpSuccess="[Auth] Sign up success",e.SignUpError="[Auth] Sign up error",e.GetUser="[Auth] Get user",e.GetUserSuccess="[Auth] Get user success",e.GetUserError="[Auth] Get user error"}(n||(n={}));var f={signUp:function(e){return{type:n.SignUp,payload:{signUpData:e}}},signUpSuccess:function(e){return{type:n.SignUpSuccess,payload:{user:e}}},signUpError:function(e){return{type:n.SignUpError,payload:{errorMessage:e}}},login:function(e){return{type:n.Login,payload:{loginData:e}}},loginSuccess:function(e){return{type:n.LoginSuccess,payload:{user:e}}},loginError:function(e){return{type:n.LoginError,payload:{errorMessage:e}}},logout:function(){return{type:n.Logout}},logoutSuccess:function(){return{type:n.LogoutSuccess}},logoutError:function(e){return{type:n.LogoutError,payload:{errorMessage:e}}},getUser:function(){return{type:n.GetUser}},getUserSuccess:function(e){return{type:n.GetUserSuccess,payload:{user:e}}},getUserError:function(e){return{type:n.GetUserError,payload:{errorMessage:e}}}},m="/api",d=r("Pn29"),g=r("Sppo"),b=r("n7R1");function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(){return function(e){return e.pipe(Object(b.a)(function(e){return e.ok?e.json():Object(d.a)(e.json()).pipe(Object(b.a)(function(t){return 500===e.status?Object(g.a)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(r,!0).forEach(function(t){O(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t,{message:"Some error has occurred"})):Object(g.a)(t)}))}))}}var v,j=r("4u3f"),S=r("BMjR"),w=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url="".concat(m,"/auth")}var t;return(t=[{key:"signUp",value:function(e){return Object(j.fromFetch)("".concat(this.url,"/sign-up"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).pipe(h(),Object(S.a)())}},{key:"login",value:function(e){return Object(j.fromFetch)("".concat(this.url,"/login"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).pipe(h(),Object(S.a)())}},{key:"logout",value:function(){return Object(j.fromFetch)("".concat(this.url,"/logout"),{method:"POST"}).pipe(h(),Object(S.a)())}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}()),E=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url="".concat(m,"/user")}var t;return(t=[{key:"getUser",value:function(){return Object(j.fromFetch)(this.url).pipe(h(),Object(S.a)())}},{key:"updateUserSubscription",value:function(e){return Object(j.fromFetch)("".concat(this.url,"/update-push-subscription"),{method:"PATCH",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).pipe(h(),Object(S.a)())}},{key:"updateUser",value:function(e){return Object(j.fromFetch)(this.url,{method:"PATCH",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).pipe(h(),Object(S.a)())}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}()),k=r("52Hf"),D=Object(k.a)(),P=r("qfCs");function T(){return function(e){return function(t){return t.pipe(Object(P.a)(function(t){return t.type===e}))}}}!function(e){e.GetSettingsSuccess="[Settings] Get settings success",e.SetAwakeTime="[Settings] Set awake time",e.SetAwakeTimeSuccess="[Settings] Set awake time success",e.SetAwakeTimeError="[Settings] Set awake time error",e.SetSleepTime="[Settings] Set sleep time",e.SetSleepTimeSuccess="[Settings] Set sleep time success",e.SetSleepTimeError="[Settings] Set sleep time error"}(v||(v={}));var x={getSettingsSuccess:function(e){return{type:v.GetSettingsSuccess,payload:e}},setAwakeTime:function(e){return{type:v.SetAwakeTime,payload:{awakeTime:e}}},setAwakeTimeSuccess:function(){return{type:v.SetAwakeTimeSuccess}},setAwakeTimeError:function(e){return{type:v.SetAwakeTimeError,payload:{awakeTime:e}}},setSleepTime:function(e){return{type:v.SetSleepTime,payload:{sleepTime:e}}},setSleepTimeSuccess:function(){return{type:v.SetSleepTimeSuccess}},setSleepTimeError:function(e){return{type:v.SetSleepTimeError,payload:{sleepTime:e}}}};function U(e,t,r,n,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void r(u)}c.done?t(s):Promise.resolve(s).then(n,a)}function C(e){return(function(){var e;return e=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=void 0,e.next=4,t;case 4:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 8:return e.prev=8,e.t2=e.catch(0),e.abrupt("return",[e.t2,void 0]);case 11:case"end":return e.stop()}},e,null,[[0,8]])}),(function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){U(o,n,a,i,c,"next",e)}function c(e){U(o,n,a,i,c,"throw",e)}i(void 0)})}).apply(this,arguments)}).apply(this,arguments)}function N(){return new Date}var A,L,I=r("zdbI"),G=r("oQV/"),H=r("0Lk3"),M=r("vnL/"),F=r("b9/G"),R=r("cz6e"),W=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(t),n=new Uint8Array(r.length),a=0;a<r.length;++a)n[a]=r.charCodeAt(a);return n};function _(e,t,r,n,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void r(u)}c.done?t(s):Promise.resolve(s).then(n,a)}function q(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){_(o,n,a,i,c,"next",e)}function c(e){_(o,n,a,i,c,"throw",e)}i(void 0)})}}!function(e){e[e.closed=0]="closed",e[e.opened=1]="opened",e[e.untouched=2]="untouched"}(A||(A={})),Object.keys(A),function(e){e[e.cup=200]="cup"}(L||(L={}));var B=function(){var e=q(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Notification.requestPermission();case 2:if("granted"===e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,navigator.serviceWorker.ready;case 7:return t=e.sent,r=W("BO0o6h3SswzEA4tJ5VOn_GJQPy16gHmq5pRfawdpslYLd967NEpKhfnw65uQvo0rOoKGupkd2C86CEemNORY4WI"),e.next=11,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:r});case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),z=function(){var e=q(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:if(null!==(t=e.sent)){e.next=7;break}throw new Error("Not subscribed to push service!");case 7:return e.next=9,E.updateUserSubscription(t).toPromise();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),J=T(),Z=Object(I.a)(function(e){return e.pipe(J(n.SignUp),Object(b.a)(function(e){return w.signUp(e.payload.signUpData).pipe(Object(M.a)(function(e){return f.signUpSuccess(e)}),Object(F.a)(function(){return D.push("/")}),Object(R.a)(function(e){return Object(G.a)(f.signUpError(e.message))}))}))},function(e){return e.pipe(J(n.Login),Object(b.a)(function(e){return w.login(e.payload.loginData).pipe(Object(b.a)(function(e){return[f.loginSuccess(e),x.getSettingsSuccess(e)]}),Object(F.a)(function(){return D.push("/")}),Object(R.a)(function(e){return Object(G.a)(f.loginError(e.message))}))}))},function(e){return e.pipe(J(n.GetUser),Object(b.a)(function(){return E.getUser().pipe(Object(b.a)(function(e){return[f.getUserSuccess(e),x.getSettingsSuccess(e)]}),Object(R.a)(function(e){return D.push("/sign-in"),Object(G.a)(f.getUserError(e.toString()))}))}))},function(e){return e.pipe(J(n.Logout),Object(b.a)(function(){return w.logout().pipe(Object(M.a)(function(){return f.logoutSuccess()}),Object(F.a)(function(){return D.push("/sign-in")}),Object(R.a)(function(e){return Object(G.a)(f.logoutError(e.toString()))}))}))},function(e){return e.pipe(Object(P.a)(function(e){return[n.LoginSuccess,n.GetUserSuccess].includes(e.type)}),Object(b.a)(function(){return Object(d.a)(z()).pipe(Object(b.a)(function(){return H.a}),Object(R.a)(function(){return H.a}))}))},function(e){return e.pipe(Object(P.a)(function(e){return[n.LoginSuccess,n.GetUserSuccess].includes(e.type)}),Object(b.a)(function(){return Object(d.a)(E.updateUser({timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,awakeTime:9.5,sleepTime:23.5})).pipe(Object(b.a)(function(){return H.a}),Object(R.a)(function(){return H.a}))}))}),K={loggedIn:!1,loginInErrorMessage:void 0,signUpErrorMessage:void 0,user:void 0};function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(r,!0).forEach(function(t){X(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function X(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Y,$={actions:f,epics:Z,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.SignUp:return Q({},e,{signUpErrorMessage:void 0});case n.SignUpSuccess:return Q({},e,{loggedIn:!0,user:t.payload.user});case n.SignUpError:return Q({},e,{signUpErrorMessage:t.payload.errorMessage});case n.Login:return Q({},e,{loginInErrorMessage:void 0});case n.LoginSuccess:return Q({},e,{loggedIn:!0,user:t.payload.user});case n.LoginError:return Q({},e,{loggedIn:!1,loginInErrorMessage:t.payload.errorMessage});case n.Logout:case n.LogoutSuccess:return Q({},e,{loggedIn:!1});case n.LogoutError:return Q({},e,{loggedIn:!0});case n.GetUserSuccess:return Q({},e,{loggedIn:!0,user:t.payload.user});case n.GetUserError:return Q({},e,{loggedIn:!1,user:void 0});default:return e}},initialState:K};!function(e){e.GetDoses="[Hydration] get doses",e.GetDosesSuccess="[Hydration] get doses success",e.GetDosesError="[Hydration] get doses error",e.CreateDose="[Hydration] create dose",e.CreateDoseSuccess="[Hydration] create dose success",e.CreateDoseError="[Hydration] create dose error",e.DeleteDose="[Hydration] delete dose",e.DeleteDoseSuccess="[Hydration] delete dose success",e.DeleteDoseError="[Hydration] delete dose error",e.GetHydrationStatistics="[Hydration] delete hydration statistics",e.GetHydrationStatisticsSuccess="[Hydration] delete hydration statistics success",e.GetHydrationStatisticsError="[Hydration] delete hydration statistics error"}(Y||(Y={}));var ee={getDoses:function(){return{type:Y.GetDoses}},getDosesSuccess:function(e){return{type:Y.GetDosesSuccess,payload:{doses:e}}},getDosesError:function(e){return{type:Y.GetDosesError,payload:{errorMessage:e}}},getHydrationStatistics:function(){return{type:Y.GetHydrationStatistics}},getHydrationStatisticsSuccess:function(e){return{type:Y.GetHydrationStatisticsSuccess,payload:{monthlyStatistics:e}}},getHydrationStatisticsError:function(e){return{type:Y.GetHydrationStatisticsError,payload:{errorMessage:e}}},createDose:function(e){return{type:Y.CreateDose,payload:e}},createDoseSuccess:function(e){return{type:Y.CreateDoseSuccess,payload:{dose:e}}},createDoseError:function(e){return{type:Y.CreateDoseError,payload:{errorMessage:e}}},deleteDose:function(e){return{type:Y.DeleteDose,payload:{id:e}}},deleteDoseSuccess:function(e){return{type:Y.DeleteDoseSuccess,payload:{id:e}}},deleteDoseError:function(e){return{type:Y.DeleteDoseError,payload:{errorMessage:e}}}},te=r("KpGu"),re=r("eBlR"),ne=r("i5Fr"),ae=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url="".concat(m,"/hydration")}var t;return(t=[{key:"getDoses",value:function(){var e=new URLSearchParams({from:Object(te.a)(new Date).toISOString()});return Object(j.fromFetch)("".concat(this.url,"/doses?").concat(e)).pipe(h(),Object(S.a)())}},{key:"getHydrationStatistics",value:function(){var e=new URLSearchParams({from:Object(re.a)(N()).toISOString(),to:Object(ne.a)(N()).toISOString()});return Object(j.fromFetch)("".concat(this.url,"/statistics?").concat(e)).pipe(h(),Object(S.a)())}},{key:"createDose",value:function(e){return Object(j.fromFetch)("".concat(this.url,"/doses"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).pipe(h(),Object(S.a)())}},{key:"deleteDose",value:function(e){return Object(j.fromFetch)("".concat(this.url,"/doses/").concat(e),{method:"DELETE"}).pipe(Object(M.a)(function(){}),Object(S.a)())}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}()),oe=r("v0uk");function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var se=T(),ue=Object(I.a)(function(e){return e.pipe(se(Y.GetDoses),Object(b.a)(function(){return ae.getDoses().pipe(Object(M.a)(function(e){return ee.getDosesSuccess(e.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(r,!0).forEach(function(t){ce(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{time:new Date(e.time)})}))}),Object(R.a)(function(e){return Object(G.a)(ee.getDosesError(e.toString()))}))}))},function(e){return e.pipe(se(Y.GetHydrationStatistics),Object(b.a)(function(){return ae.getHydrationStatistics().pipe(Object(M.a)(function(e){return ee.getHydrationStatisticsSuccess(e)}),Object(R.a)(function(e){return Object(G.a)(ee.getHydrationStatisticsError(e.toString()))}))}))},function(e){return e.pipe(se(Y.CreateDose),Object(oe.a)(function(e){var t=e.payload,r=t.volume;return ae.createDose({time:t.time.toISOString(),volume:r}).pipe(Object(M.a)(function(e){return ee.createDoseSuccess(e)}),Object(R.a)(function(e){return Object(G.a)(ee.createDoseError(e.toString()))}))}))},function(e){return e.pipe(se(Y.DeleteDose),Object(oe.a)(function(e){var t=e.payload.id;return ae.deleteDose(t).pipe(Object(M.a)(function(){return ee.deleteDoseSuccess(t)}),Object(R.a)(function(e){return Object(G.a)(ee.deleteDoseError(e.toString()))}))}))}),le=r("WT5B"),pe={isLoading:!0,doses:void 0,monthlyStatistics:[]};function fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fe(r,!0).forEach(function(t){de(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function de(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ge,be={actions:ee,epics:ue,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y.GetDoses:return me({},e,{isLoading:!0});case Y.GetDosesSuccess:return me({},e,{doses:t.payload.doses});case Y.GetHydrationStatisticsSuccess:return me({},e,{monthlyStatistics:t.payload.monthlyStatistics});case Y.CreateDose:return me({},e,{doses:(e.doses||[]).concat([me({},t.payload,{userId:t.payload.userId,_id:Math.random().toString()})])});case Y.CreateDoseSuccess:return me({},e,{doses:e.doses.map(function(e){var r=t.payload.dose,n=r.time,a=r._id;return Object(le.a)(e.time,new Date(n))?me({},e,{_id:a}):e})});case Y.DeleteDose:return me({},e,{doses:e.doses.filter(function(e){return e._id!==t.payload.id})});default:return e}},initialState:pe},ye=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url="".concat(m,"/reminder")}var t;return(t=[{key:"updateNextDrinkTime",value:function(){return Object(j.fromFetch)("".concat(this.url,"/next-drink-time"),{method:"PATCH",headers:{"Content-Type":"application/json"}}).pipe(h(),Object(S.a)())}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}());(ge||(ge={})).CalculateNextDrinkTimeSuccess="[Reminder] Calculate next drink time success";var Oe={calculateNextDrinkTimeSuccess:function(e){return{type:ge.CalculateNextDrinkTimeSuccess,payload:{nextDrinkTime:e.nextDrinkTime}}}},he=Object(I.a)(function(e){return e.pipe(Object(P.a)(function(e){return[n.LoginSuccess,n.GetUserSuccess,n.SignUpSuccess,Y.CreateDoseSuccess,Y.DeleteDoseSuccess].includes(e.type)}),Object(oe.a)(function(){return Object(d.a)(ye.updateNextDrinkTime()).pipe(Object(M.a)(function(e){return Oe.calculateNextDrinkTimeSuccess(e)}),Object(R.a)(function(){return H.a}))}))}),ve={nextDrinkTime:void 0};function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Se(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var we={actions:Oe,epics:he,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.CalculateNextDrinkTimeSuccess:return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(r,!0).forEach(function(t){Se(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{nextDrinkTime:new Date(t.payload.nextDrinkTime)});default:return e}},initialState:ve},Ee={awakeTime:void 0,sleepTime:void 0},ke=T(),De=Object(I.a)(function(e){return e.pipe(ke(v.SetAwakeTime),Object(oe.a)(function(e){var t=e.payload.awakeTime;return E.updateUser({awakeTime:t}).pipe(Object(M.a)(function(){return x.setAwakeTimeSuccess()}),Object(R.a)(function(){return Object(G.a)(x.setAwakeTimeError(t))}))}))},function(e){return e.pipe(ke(v.SetSleepTime),Object(oe.a)(function(e){var t=e.payload.sleepTime;return E.updateUser({sleepTime:t}).pipe(Object(M.a)(function(){return x.setSleepTimeSuccess()}),Object(R.a)(function(){return Object(G.a)(x.setSleepTimeError(t))}))}))});function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pe(r,!0).forEach(function(t){xe(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function xe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ue={actions:x,epics:De,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.GetSettingsSuccess:var r=t.payload;return Te({},e,{awakeTime:r.awakeTime,sleepTime:r.sleepTime});case v.SetAwakeTime:case v.SetAwakeTimeError:return Te({},e,{awakeTime:t.payload.awakeTime});case v.SetSleepTime:case v.SetSleepTimeError:return Te({},e,{sleepTime:t.payload.sleepTime});default:return e}},initialState:Ee},Ce=Object(I.a)($.epics,be.epics,we.epics,Ue.epics),Ne=r("B6mr");function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(r,!0).forEach(function(t){Ie(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ge,He,Me,Fe,Re={form:void 0,auth:$.initialState,hydration:be.initialState,reminder:we.initialState,settings:Ue.initialState},We=Object(l.c)({form:Ne.a,hydration:be.reducer,auth:$.reducer,reminder:we.reducer,settings:Ue.reducer}),_e=(Ge=Object(p.a)(),He=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,Me=Object(l.e)(function(e,t){return t.type===n.Logout?We(Re,t):We(e,Le({},t,{payload:"object"==typeof t.payload?Le({},t.payload||{},{userId:e&&e.auth&&e.auth.user&&e.auth.user._id}):t.payload}))},He(Object(l.a)(Ge))),Ge.run(Ce),Me),qe=r("r0ML"),Be=r.n(qe),ze=r("+Q0i"),Je=r.n(ze),Ze=r("g0xT"),Ke=r("lkLo"),Ve=r("iipw"),Qe=r("Qmnn"),Xe=r("FR3G"),Ye=r("SlkP"),$e=r("cxi7"),et=r("3Pv6"),tt=r("2sP0"),rt=r("LrN8"),nt=r("uNrZ"),at=r("QD+E"),ot=Be.a.forwardRef(function(e,t){return Be.a.createElement(at.a,Object.assign({innerRef:t},e))}),it=r("CGse"),ct=function(e){var t=e.input,r=e.meta,n=r.touched,a=r.invalid,o=r.error,i=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t.indexOf(r=o[n])>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t.indexOf(r=o[n])>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,["input","meta"]);return Be.a.createElement(it.a,Object.assign({error:n&&a,helperText:n&&o},t,i))},st=function(e){return/^(?=.{1,50}$)[a-z]+(?:['_.\s][a-z]+)*$/i.test(e)},ut=function(e){return/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)},lt=function(e){return!(e.length<8)&&[/[A-Z]/.test(e),/[a-z]/.test(e),/\d/.test(e),/\W/.test(e)].filter(Boolean).length>=3},pt=r("NaR3"),ft=r("Mk8u"),mt=Object(Qe.a)(function(e){return{form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}),dt=Object(ft.a)({form:"sign-in",initialValues:{password:null,email:null},validate:function(e){var t={};return["email","password"].forEach(function(r){e[r]||(t[r]="Field is required")}),e.email&&!ut(e.email)&&(t.email="Invalid email address"),e.password&&!lt(e.password)&&(t.password="Password is not complex enough"),t}})(function(e){var t=e.handleSubmit,r=e.errorMessage,n=e.pristine,a=e.invalid,o=mt(void 0);return Be.a.createElement("form",{className:o.form,noValidate:!0,onSubmit:t},Be.a.createElement(pt.a,{component:ct,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Be.a.createElement(pt.a,{component:ct,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r&&Be.a.createElement(et.a,{component:"span",variant:"caption",color:"error"},r),Be.a.createElement(tt.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",className:o.submit,disabled:n||a},"Sign In"))}),gt=Object(Qe.a)(function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},submit:{margin:e.spacing(3,0,2)},signUpLink:{marginLeft:"auto"}}}),bt=function(){var e=gt(void 0),t=Object(Ze.d)(function(e){return e.auth.loginInErrorMessage}),r=Object(Ze.c)();return Be.a.createElement(Ye.a,{component:"main",maxWidth:"xs"},Be.a.createElement("div",{className:e.paper},Be.a.createElement($e.a,{className:e.avatar},Be.a.createElement(nt.a,null)),Be.a.createElement(et.a,{component:"h1",variant:"h5"},"Sign in"),Be.a.createElement(dt,{errorMessage:t,onSubmit:function(e){r(f.login(e))}}),Be.a.createElement(tt.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(){window.open("/api/auth/login/google","_self")}},"Sign In With Google"),Be.a.createElement(rt.a,{className:e.signUpLink,component:ot,to:"/sign-up"},"Don’t have an account? Sign Up")))},yt=r("5U2p"),Ot=Object(Qe.a)(function(e){return{form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}),ht=Object(ft.a)({form:"sign-up",validate:function(e){var t={};return["firstName","lastName","email","password"].forEach(function(r){e[r]||(t[r]="Field is required")}),e.email&&!ut(e.email)&&(t.email="Invalid email address"),e.password&&!lt(e.password)&&(t.password="Password is not complex enough"),e.firstName&&!st(e.firstName)&&(t.firstName="Invalid first name"),e.lastName&&!st(e.lastName)&&(t.lastName="Invalid last name"),t}})(function(e){var t=e.handleSubmit,r=e.errorMessage,n=e.pristine,a=e.invalid,o=Ot(void 0);return Be.a.createElement("form",{className:o.form,noValidate:!0,onSubmit:t},Be.a.createElement(yt.a,{container:!0,spacing:2},Be.a.createElement(yt.a,{item:!0,xs:12,sm:6},Be.a.createElement(pt.a,{component:ct,autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})),Be.a.createElement(yt.a,{item:!0,xs:12,sm:6},Be.a.createElement(pt.a,{component:ct,variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname"})),Be.a.createElement(yt.a,{item:!0,xs:12},Be.a.createElement(pt.a,{component:ct,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0})),Be.a.createElement(yt.a,{item:!0,xs:12},Be.a.createElement(pt.a,{component:ct,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}))),r&&Be.a.createElement(et.a,{component:"span",variant:"caption",color:"error"},r),Be.a.createElement(tt.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",className:o.submit,disabled:n||a},"Sign Up"))}),vt=Object(Qe.a)(function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},submit:{margin:e.spacing(3,0,2)},signInLink:{marginLeft:"auto"}}}),jt=function(){Object(Ke.e)();var e=vt(void 0),t=Object(Ze.d)(function(e){return e.auth.signUpErrorMessage}),r=Object(Ze.c)();return Be.a.createElement(Ye.a,{component:"main",maxWidth:"xs"},Be.a.createElement("div",{className:e.paper},Be.a.createElement($e.a,{className:e.avatar},Be.a.createElement(nt.a,null)),Be.a.createElement(et.a,{component:"h1",variant:"h5"},"Sign up"),Be.a.createElement(ht,{errorMessage:t,onSubmit:function(e){r(f.signUp(e))}}),Be.a.createElement(tt.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(){window.open("/api/auth/login/google","_self")}},"Sign Up With Google"),Be.a.createElement(rt.a,{className:e.signInLink,component:ot,to:"/sign-in"},"Already have an account? Sign in")))},St=r("4LIb"),wt=r("Khtv"),Et=r("hA0l"),kt=r("Knny"),Dt=r("rRpO"),Pt=r("eI/M"),Tt=r("v3Sx"),xt=r("If6P"),Ut=r("orPf"),Ct=r("T+O4"),Nt=r("ptZP"),At=r("xj+w"),Lt=r("Ds6T"),It=r("0tfv"),Gt=r("hsS1"),Ht=Object(Qe.a)(function(e){return Object(xt.a)({dose:{margin:e.spacing(1),padding:e.spacing(2),display:"flex",alignItems:"center",justifyContent:"space-between"},caption:{display:"flex",alignItems:"center",justifyContent:"space-between"},fab:{position:"fixed",bottom:e.spacing(4),right:e.spacing(4),backgroundColor:e.palette.secondary.main}})}),Mt=function(){var e=Ht(void 0),t=Object(Ze.c)(),r=Object(Ze.d)(function(e){return e.reminder.nextDrinkTime}),n=Object(Ze.d)(function(e){return e.hydration.doses}),a=Object(Ze.d)(function(e){return e.auth.loggedIn});return Object(qe.useEffect)(function(){t(ee.getDoses()),t(ee.getHydrationStatistics())},[]),Be.a.createElement(Ye.a,{component:"main",maxWidth:"xs"},r&&Be.a.createElement(Ut.a,{label:Object(Gt.a)(r,"dd.MM.yyyy HH:mm")}),Be.a.createElement("div",null,(n||[]).map(function(r){return Be.a.createElement(Ct.a,{key:r._id,className:e.dose},Be.a.createElement(et.a,{component:"span",variant:"subtitle2"},Object(Gt.a)(new Date(r.time),"yyyy.MM.dd (HH:mm)")),Be.a.createElement("div",{className:e.caption},Be.a.createElement(At.a,null),Be.a.createElement(et.a,{component:"span",variant:"subtitle2"},"".concat(r.volume,"ml"))),Be.a.createElement(Lt.a,{onClick:function(){return t(ee.deleteDose(r._id))}}))})),a&&Be.a.createElement(Nt.a,{onClick:function(){return t(ee.createDose({time:new Date,volume:L.cup}))},className:e.fab,color:"secondary"},Be.a.createElement(It.a,null)))},Ft=r("uchb"),Rt=r("Xb8q"),Wt=(Fe=function(e){return e.monthlyStatistics.map(function(e){return{amount:e.amount/1e3,date:Object(Gt.a)(Object(Rt.a)(e.date),"dd")}})},function(e){return Fe(e.hydration)}),_t=Object(Qe.a)(function(){return Object(xt.a)({root:{height:"50vh"}})}),qt=function(){var e=_t(void 0),t=Object(Ze.d)(Wt);return t?qe.createElement(qe.Fragment,null,qe.createElement(et.a,{component:"h1",variant:"h5",align:"center"},"Your hydration history for ",Object(Gt.a)(N(),"MMMM")),qe.createElement("div",{className:e.root},qe.createElement(Ft.a,{data:t,keys:["amount"],theme:{axis:{domain:{line:{stroke:"rgba(0, 0, 0, 0.1)"}},ticks:{text:{fontFamily:"Roboto",fontSize:10},line:{stroke:"rgba(0, 0, 0, 0.1)"}}},grid:{line:{stroke:"rgba(0, 0, 0, 0.1)"}}},indexBy:"date",colors:["#3f51b5"],margin:{top:15,right:0,bottom:50,left:25},axisBottom:{tickSize:5,tickPadding:5,tickRotation:-60},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0},labelSkipWidth:20,labelTextColor:"rgba(255, 255, 255, 0.7)",animate:!0,motionStiffness:90,motionDamping:15}))):null},Bt=function(e){var t=e.children,r=e.value,n=e.index,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t.indexOf(r=o[n])>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t.indexOf(r=o[n])>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,["children","value","index"]);return Be.a.createElement(et.a,Object.assign({component:"div",role:"tabpanel",hidden:r!==n},a),r===n&&Be.a.createElement(Et.a,{p:3},t))},zt=Object(Qe.a)(function(e){return{root:{flexGrow:1,display:"flex",flexFlow:"column nowrap",width:"100%",height:"100%",backgroundColor:e.palette.background.paper},tab:{width:"100%"},tabContent:{flexGrow:1}}}),Jt=function(){var e=zt(void 0),t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),2!==r.length);n=!0);}catch(s){a=!0,o=s}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(Be.a.useState(0)),r=t[0],n=t[1];return Be.a.createElement("div",{className:e.root},Be.a.createElement(wt.a,{position:"sticky"},Be.a.createElement(St.a,null,Be.a.createElement(Dt.a,{value:r,classes:{root:e.tab},onChange:function(e,t){n(t)},variant:"fullWidth",indicatorColor:"secondary",textColor:"inherit",centered:!0},Be.a.createElement(kt.a,{label:"Drink",icon:Be.a.createElement(Pt.a,null)}),Be.a.createElement(kt.a,{label:"History",icon:Be.a.createElement(Tt.a,null)})))),Be.a.createElement(Bt,{value:r,index:0},Be.a.createElement(Mt,null)),Be.a.createElement(Bt,{value:r,index:1},Be.a.createElement(qt,null)))},Zt=r("7+K9"),Kt=r("0sjw"),Vt=r("5UhB"),Qt=r("MjIh"),Xt=r("PETZ"),Yt=r("3AAW"),$t=r("cSkb"),er=r("tujD"),tr=r("b2Ya"),rr=r("7gyo"),nr=r("M15E"),ar=r("Kg5f"),or=r("dDbw"),ir=r("yxOy"),cr=r("R5r9"),sr=function(e){return Object(ar.a)(e)+Object(or.a)(e)/60},ur=function(e){var t=Math.trunc(e),r=60*(e-t);return Object(ir.a)(Object(cr.a)(Object(te.a)(N()),r),t)},lr=function(e){return function(e){return{awakeTime:ur(e.awakeTime),sleepTime:ur(e.sleepTime)}}(e.settings)};function pr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function fr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mr=Object(Qe.a)(function(e){return Object(xt.a)({list:{width:300}})}),dr=function(e){var t=e.children,r=e.className,n=mr(void 0),a=Object(Ze.c)(),o=Object(Ze.d)(lr),i=o.awakeTime,c=o.sleepTime,s=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),2!==r.length);n=!0);}catch(s){a=!0,o=s}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(Be.a.useState({opened:!1})),u=s[0],l=s[1],p=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&l(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pr(r,!0).forEach(function(t){fr(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pr(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},u,{opened:e}))}};return Be.a.createElement(Be.a.Fragment,null,Be.a.createElement(Kt.a,{className:r,onClick:p(!0)},t),Be.a.createElement(Qt.a,{anchor:"right",open:u.opened,onClose:p(!1)},Be.a.createElement("div",{className:n.list,role:"presentation"},Be.a.createElement(Zt.a,null,"Timings settings"),Be.a.createElement(Vt.a,null),Be.a.createElement(Xt.a,null,Be.a.createElement(Yt.a,{button:!0},Be.a.createElement($t.a,null,Be.a.createElement(tr.a,null)),Be.a.createElement(er.a,{primary:Be.a.createElement(Be.a.Fragment,null,Be.a.createElement("span",null,"Awake Time"),Be.a.createElement(nr.a,{value:i,onChange:function(e){return a(x.setAwakeTime(sr(e)))}}))}))),Be.a.createElement(Xt.a,null,Be.a.createElement(Yt.a,{button:!0},Be.a.createElement($t.a,null,Be.a.createElement(rr.a,null)),Be.a.createElement(er.a,{primary:Be.a.createElement(Be.a.Fragment,null,Be.a.createElement("span",null,"Sleep Time"),Be.a.createElement(nr.a,{value:c,onChange:function(e){return a(x.setSleepTime(sr(e)))}}))}))),Be.a.createElement(Vt.a,null))))},gr=r("AozH");function br(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(s){a=!0,o=s}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var yr=Object(Qe.a)(function(e){return Object(xt.a)({menuButton:{marginRight:e.spacing(2)},settingsButton:{marginRight:-e.spacing(2)},settingsIcon:{color:e.palette.common.white},title:{flexGrow:1},button:{color:e.palette.text.hint},avatar:{backgroundColor:e.palette.secondary.main,marginLeft:e.spacing(1)}})}),Or=function(e){var t=e.auth,r=Object(Ze.c)(),n=yr(void 0),a=br(t.user&&t.user.firstName||"",1)[0],o=br(t.user&&t.user.lastName||"",1)[0],i="".concat(a).concat(o).toUpperCase();return Be.a.createElement(wt.a,{position:"static"},Be.a.createElement(St.a,null,Be.a.createElement(et.a,{variant:"subtitle1",className:n.title},"Water Reminder App"),t.loggedIn&&Be.a.createElement(Be.a.Fragment,null,Be.a.createElement(tt.a,{color:"inherit",onClick:function(){return r(f.logout())}},"Logout"),t.user.imageUrl&&Be.a.createElement($e.a,{alt:t.user.firstName,className:n.avatar,src:t.user.imageUrl}),!t.user.imageUrl&&Be.a.createElement($e.a,{alt:t.user.firstName,className:n.avatar},i),Be.a.createElement(dr,{className:n.settingsButton},Be.a.createElement(gr.a,{className:n.settingsIcon}))),!t.loggedIn&&Be.a.createElement(tt.a,{component:at.a,to:"/sign-in",variant:"text",color:"inherit"},"Sign in")))},hr=Object(Qe.a)(function(){return{app:{display:"flex",flexFlow:"column nowrap",height:"100vh"},main:{flexGrow:1}}}),vr=r("EFHO"),jr=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url="".concat(m,"/notification")}var t;return(t=[{key:"updateStatus",value:function(e,t){return Object(j.fromFetch)("".concat(this.url,"/").concat(e),{method:"PATCH",body:JSON.stringify({status:t}),headers:{"Content-Type":"application/json"}}).pipe(h(),Object(S.a)())}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}());function Sr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(s){a=!0,o=s}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function wr(e,t,r,n,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void r(u)}c.done?t(s):Promise.resolve(s).then(n,a)}var Er=function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("serviceWorker"in navigator){e.next=2;break}return e.abrupt("return");case 2:return(t=new vr.a("service-worker.js")).addEventListener("activated",function(e){e.isUpdate?console.log("Service worker activated!"):console.log("Service worker activated for the first time!")}),t.addEventListener("waiting",function(e){console.log("A new service worker has installed, but it can't activateuntil all tabs running the current version have fully unloaded.")}),t.addEventListener("installed",function(e){e.isUpdate?console.log("Service worker installed"):console.log("Service worker installed for the first time")}),e.next=8,C(t.register());case 8:r=Sr(e.sent,1),(n=r[0])&&console.log("Service worker registration error",n),navigator.serviceWorker.addEventListener("message",function(e){switch(e.data.type){case"drink-dose":return _e.dispatch(ee.createDose({time:new Date,volume:L.cup}));case"open-notification":return jr.updateStatus(e.data.payload.notificationId,A.opened).subscribe();case"close-notification":return jr.updateStatus(e.data.payload.notificationId,A.closed).subscribe()}});case 13:case"end":return e.stop()}},e)}),function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){wr(o,n,a,i,c,"next",e)}function c(e){wr(o,n,a,i,c,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}(),kr=Object(a.a)({palette:{primary:i.a,secondary:c.a,error:s.a,contrastThreshold:3,tonalOffset:.2}});Je.a.render(Be.a.createElement(Ke.b,{history:D},Be.a.createElement(Ze.a,{store:_e},Be.a.createElement(u.a,{theme:kr},Be.a.createElement(o.a,null),Be.a.createElement(function(){var e=Object(Ze.d)(function(e){return e.auth}),t=Object(Ze.c)(),r=hr(void 0);return Object(qe.useEffect)(function(){t(f.getUser())},[]),Be.a.createElement(Xe.a,{utils:Ve.a},Be.a.createElement("div",{className:r.app},Be.a.createElement(Or,{auth:e}),Be.a.createElement("main",{className:r.main},Be.a.createElement(Ke.a,{path:"/",exact:!0,render:function(){return Be.a.createElement(Jt,null)}}),Be.a.createElement(Ke.a,{path:"/sign-in",exact:!0,render:function(){return Be.a.createElement(bt,null)}}),Be.a.createElement(Ke.a,{path:"/sign-up",exact:!0,render:function(){return Be.a.createElement(jt,null)}}))))},null)))),document.getElementById("root")),Er()}},[[0,0,4]]]);